{
  "$schema": "./node_modules/oxlint/configuration_schema.json",

  // Enable all strict categories for maximum code quality
  "categories": {
    "correctness": "error",
    "suspicious": "error",
    "pedantic": "warn",
    "perf": "warn",
    "style": "warn",
    "restriction": "warn"
  },

  // Enable plugins for React + TypeScript + Tauri project
  "plugins": [
    "eslint",
    "typescript",
    "react",
    "unicorn",
    "oxc",
    "jsx-a11y",
    "jest",
    "jsdoc",
    "import",
    "promise",
    "react-perf"
  ],

  // Fine-tune specific rules for React + TypeScript best practices
  "rules": {
    // === Disable Rules That Conflict With React Patterns ===
    "eslint/no-ternary": "off",
    "eslint/func-style": "off",
    "eslint/no-console": "off",
    "eslint/no-extend-native": "off",
    "eslint/sort-imports": "off",
    "eslint/no-empty-function": "off",
    "eslint/arrow-body-style": "off",
    "eslint/id-length": "off",
    "import/no-named-export": "off",
    "import/prefer-default-export": "off",
    "import/unambiguous": "off",
    "unicorn/filename-case": "off",
    "unicorn/prefer-dom-node-dataset": "off",
    "unicorn/prefer-global-this": "off",
    "promise/prefer-await-to-callbacks": "off",
    "jest/max-expects": "off",
    "typescript/no-confusing-void-expression": "off",
    "typescript/explicit-function-return-type": "off",
    "typescript/explicit-module-boundary-types": "off",
    "typescript/strict-boolean-expressions": "off",
    "typescript/promise-function-async": "off",
    "typescript/no-unnecessary-type-assertion": "off",
    "typescript/no-unsafe-type-assertion": "off",
    "react/jsx-filename-extension": ["warn", { "allow": "as-needed", "extensions": [".jsx", ".tsx"] }],

    // === Reasonable Limits (Override impossible defaults) ===
    "eslint/max-lines-per-function": ["warn", { "max": 100, "skipBlankLines": true, "skipComments": true }],
    "eslint/max-depth": ["warn", { "max": 3 }],
    "eslint/max-nested-callbacks": ["warn", { "max": 3 }],
    "eslint/max-lines": ["warn", { "max": 300, "skipBlankLines": true, "skipComments": true }],

    // === Type Safety (Critical for AI to understand intent) ===
    "typescript/no-explicit-any": "error",
    "typescript/no-unsafe-assignment": "warn",
    "typescript/no-unsafe-call": "warn",
    "typescript/no-unsafe-member-access": "warn",
    "typescript/no-unsafe-return": "warn",
    "typescript/no-floating-promises": "error",
    "typescript/no-misused-promises": "error",
    "typescript/await-thenable": "error",

    // === Code Clarity (Helps AI understand context) ===
    "eslint/no-implicit-coercion": "warn",
    "eslint/prefer-template": "warn",
    "eslint/no-nested-ternary": "warn",
    "eslint/no-magic-numbers": ["warn", {
      "ignore": [0, 1, -1],
      "ignoreArrayIndexes": true
    }],
    "eslint/consistent-return": "error",
    "eslint/no-else-return": "warn",

    // === Modern JavaScript (AI trained on modern patterns) ===
    "eslint/prefer-arrow-callback": "warn",
    "eslint/prefer-const": "error",
    "eslint/no-var": "error",
    "eslint/prefer-destructuring": "warn",
    "eslint/prefer-spread": "warn",
    "eslint/prefer-rest-params": "warn",
    "unicorn/prefer-modern-math-apis": "warn",
    "unicorn/prefer-node-protocol": "error",

    // === Error Prevention (Catch AI mistakes early) ===
    "eslint/no-unreachable": "error",
    "eslint/no-constant-condition": "error",
    "eslint/no-dupe-keys": "error",
    "eslint/no-dupe-else-if": "error",
    "eslint/no-duplicate-case": "error",
    "eslint/no-empty-pattern": "error",

    // === React Best Practices ===
    "react/react-in-jsx-scope": "off",
    "react/jsx-key": "error",
    "react/no-array-index-key": "warn",
    "react/jsx-no-target-blank": "error",
    "react/jsx-no-useless-fragment": "warn",
    "react/self-closing-comp": "warn",
    "react/rules-of-hooks": "error",
    "react/exhaustive-deps": "error",
    "react-perf/jsx-no-new-object-as-prop": "warn",
    "react-perf/jsx-no-new-array-as-prop": "warn",
    "react-perf/jsx-no-new-function-as-prop": "warn",

    // === Accessibility (Often missed by AI) ===
    "jsx-a11y/alt-text": "error",
    "jsx-a11y/anchor-has-content": "error",
    "jsx-a11y/aria-props": "error",
    "jsx-a11y/aria-role": "error",
    "jsx-a11y/click-events-have-key-events": "warn",

    // === Import Management ===
    "import/no-duplicates": "error",
    "import/no-unresolved": "error",
    "import/no-unassigned-import": ["error", {
      "allow": ["**/*.css", "@testing-library/jest-dom"]
    }],
    "import/order": ["warn", {
      "groups": ["builtin", "external", "internal", "parent", "sibling", "index"],
      "newlines-between": "always",
      "alphabetize": { "order": "asc" }
    }],

    // === Promise Handling ===
    "promise/always-return": "warn",
    "promise/catch-or-return": "error",
    "promise/no-nesting": "warn",
    "promise/no-promise-in-callback": "warn",

    // === Testing Best Practices (Vitest uses Jest-compatible API) ===
    "jest/expect-expect": "warn",
    "jest/no-disabled-tests": "warn",
    "jest/no-focused-tests": "error",
    "jest/valid-expect": "error",
    "jest/no-standalone-expect": ["error", { "additionalTestBlockFunctions": ["waitFor", "waitForElementToBeRemoved", "vi.waitFor"] }],

    // === Documentation (Critical for AI context) ===
    "jsdoc/check-alignment": "warn",
    "jsdoc/check-param-names": "warn",
    "jsdoc/check-tag-names": "warn",
    "jsdoc/require-jsdoc": ["warn", {
      "require": {
        "FunctionDeclaration": true,
        "ClassDeclaration": true,
        "MethodDefinition": true
      },
      "publicOnly": true
    }],

    // === Unicorn Quality Rules ===
    "unicorn/better-regex": "warn",
    "unicorn/catch-error-name": "warn",
    "unicorn/consistent-function-scoping": "warn",
    "unicorn/explicit-length-check": "warn",
    "unicorn/no-array-for-each": "warn",
    "unicorn/no-for-loop": "warn",
    "unicorn/no-null": "warn",
    "unicorn/prefer-array-flat-map": "warn",
    "unicorn/prefer-array-some": "warn",
    "unicorn/prefer-includes": "warn",
    "unicorn/prefer-optional-catch-binding": "warn",
    "unicorn/prefer-set-has": "warn",
    "unicorn/prefer-string-replace-all": "warn",
    "unicorn/prefer-ternary": "warn"
  },

  // Environment settings for Tauri (browser + modern ES)
  "env": {
    "browser": true,
    "es2024": true
  }
}
